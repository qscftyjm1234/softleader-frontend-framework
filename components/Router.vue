<script setup>
import { useRoute, useRouter } from 'vue-router'
const route = useRoute()

const userId = route.params.id

const router = useRouter()

function goToRouter() {
  router.push('/router')
}

function goToParamRouter() {
  router.push('/router/1')
}

function goBack() {
  router.back()
}
</script>
<template>
  <h1><slot /></h1>

  <v-btn class="ma-2" @click="goToRouter()"> å‰å¾€/router </v-btn>

  <v-btn class="ma-2" @click="goToParamRouter()"> å‰å¾€å‹•æ…‹paramåƒæ•¸è·¯ç”± </v-btn>
  <v-btn class="ma-2" @click="goBack()"> å›ä¸Šä¸€é  </v-btn>
  <br />
  <template v-if="userId">
    <v-card class="ma-2 pa-2">
      {{ `æŠ“å–url parmas idï¼š${userId}` }}
    </v-card>
  </template>

  <v-card class="ma-2 pa-2"> path: {{ route.path }} </v-card>
  <v-card class="ma-2 pa-2"> fullPath : {{ route.fullPath }} </v-card>

  <textarea id="codeInput" spellcheck="false">
		// åœ¨é€™è£¡è¼¸å…¥ä½ çš„ç¨‹å¼ç¢¼
		pages/
		â”œâ”€â”€ index.vue          // å°æ‡‰è·¯ç”± '/'
		â”œâ”€â”€ about.vue          // å°æ‡‰è·¯ç”± '/about'
		â”œâ”€â”€ router/index.vue   // å°æ‡‰è·¯ç”± '/router'
		â”œâ”€â”€ router/[id].vue   // å°æ‡‰è·¯ç”± '/router/:id'

		// ğŸš€ ç²å–pathéœæ…‹è³‡æ–™
		import { useRoute } from 'vue-router'
		const route = useRoute()

		// ç²å–urlå‹•æ…‹åƒæ•¸
		const userId = route.params.id // 1

		// ç²å–queryåƒæ•¸
		http://localhost:3000/router/123?tab=posts&page=2
		const query = route.query // { tab: 'posts', page: '2' }

		// ç²å–url path
		const path = route.path // /router/1

		// ç²å–url fullPath
		const fullPath = route.fullPath // "/router/1?tab=posts#section1" => åŒ…å«hash and query

		// ğŸš€ Router => æ§åˆ¶å‹•æ…‹æ“ä½œ
		import { useRouter } from 'vue-router'
		const router = useRouter()
		// ä½¿ç”¨è·¯å¾‘
		router.push('/router')

		// ä½¿ç”¨å‘½åè·¯ç”±
		router.push('/router/1')

		// è¿”å›ä¸Šä¸€é 
		router.back()
	</textarea
  >
</template>
