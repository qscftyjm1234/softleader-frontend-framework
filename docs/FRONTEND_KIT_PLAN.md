# ğŸš€ ä¼æ¥­ç´šå‰ç«¯é–‹ç™¼å¥—ä»¶è¦åŠƒæ›¸ (Frontend Development Kit Plan)

## 1. å°ˆæ¡ˆé¡˜æ™¯ (Vision)

æœ¬é–‹ç™¼å¥—ä»¶æ—¨åœ¨ç‚ºç”²æ–¹å…¬å¸æä¾›ä¸€å€‹ **ã€Œæ¨™æº–åŒ–ã€é«˜å®‰å…¨æ€§ã€é«˜æ•ˆèƒ½ã€** çš„ Nuxt 3 é–‹ç™¼åŸºåº•ã€‚é€éçµ±ä¸€çš„æ¶æ§‹èˆ‡é å…ˆå°è£çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œå¤§å¹…é™ä½å¾ŒçºŒå°ˆæ¡ˆçš„å•Ÿå‹•æˆæœ¬ï¼Œä¸¦ç¢ºä¿ç¨‹å¼ç¢¼å“è³ªçš„ä¸€è‡´æ€§ã€‚

---

## 2. ç³»çµ±æ¶æ§‹ (Architecture)

### æ ¸å¿ƒæŠ€è¡“æ£§

- **æ ¸å¿ƒæ¡†æ¶**: [Nuxt 3](https://nuxt.com) (åŸºæ–¼ Vue 3 + Vite) - _æ¥µè‡´æ•ˆèƒ½èˆ‡é–‹ç™¼é«”é©—_
- **ç‹€æ…‹ç®¡ç†**: [Pinia](https://pinia.vuejs.org) - _æ¨¡çµ„åŒ–ç‹€æ…‹ç®¡ç†_
- **UI æ¡†æ¶**: [Vuetify 3](https://vuetifyjs.com) - _è±å¯Œçš„ä¼æ¥­ç´šå…ƒä»¶åº«_
- **å·¥å…·åº«**: [VueUse](https://vueuse.org) - _å¼·å¤§çš„çµ„åˆå¼ API å·¥å…·é›†_
- **æ¸¬è©¦æ¡†æ¶**: [Vitest](https://vitest.dev) + [Playwright](https://playwright.dev)

### ç›®éŒ„çµæ§‹è¦ç¯„ (Modular Architecture)

æ¡ç”¨ **é ˜åŸŸé©…å‹• (Domain-Driven)** çš„æ¨¡çµ„åŒ–è¨­è¨ˆï¼Œå°‡æ¥­å‹™é‚è¼¯å°è£æ–¼ `modules/` æˆ– `repositories/`ï¼Œè€Œéæ•£è½åœ¨å„è™•ã€‚

```bash
root/
â”œâ”€â”€ composables/     # é€šç”¨é‚è¼¯ (useApi, useWatermark)
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ smart/       # âœ¨ å°è£çš„é«˜éšå…ƒä»¶ (SmartCard)
â”‚   â””â”€â”€ ...
â”œâ”€â”€ repositories/    # âœ¨ çµ±ä¸€ API ç®¡ç†å±¤ (Smart Client)
â”‚   â”œâ”€â”€ modules/     # å„æ¥­å‹™æ¨¡çµ„ (policy, auth, order)
â”‚   â””â”€â”€ factory.ts   # æ ¸å¿ƒå·¥å» æ¨¡å¼
â”œâ”€â”€ plugins/         # æ ¸å¿ƒå¤–æ› (Security, Vuetify)
â””â”€â”€ pages/           # è·¯ç”±è¦–åœ–
```

---

## 3. å·²å¯¦ä½œæ ¸å¿ƒåŠŸèƒ½ (Core Features Implemented)

### 3.1 âš¡ Smart Client (æ™ºæ…§ API å®¢æˆ¶ç«¯)

> **è§£æ±ºç—›é»**: æ¶ˆé™¤é‡è¤‡çš„ Axios å¯¦ä¾‹å»ºç«‹ã€çµ±ä¸€éŒ¯èª¤è™•ç†ã€è‡ªå‹•åŒ– Token ç®¡ç†ã€‚

- **çµ±ä¸€ä»‹é¢**: ä½¿ç”¨ `useClient('/service')` å¿«é€Ÿå»ºç«‹åˆ†å±¤å®¢æˆ¶ç«¯ã€‚
- **è‡ªå‹•åŒ–è™•ç†**:
  - è‡ªå‹•æ³¨å…¥ Token
  - è‡ªå‹•è™•ç† `401 Unauthorized` (ç™»å‡º/åˆ·æ–°)
  - è‡ªå‹•æ‹†åŒ… (Unwrap Response)
  - å…¨åŸŸ Loading æ¢é›†æˆ
- **Advanced Options**: `lazy`, `pick`, `watch`, `loadingRef` ç­‰é€²éšåƒæ•¸ã€‚

### 3.2 ğŸ›¡ï¸ Enterprise Security (ä¼æ¥­ç´šè³‡å®‰é˜²è­·)

> **è§£æ±ºç—›é»**: é˜²æ­¢æ©Ÿå¯†è³‡æ–™å¤–æ´©ã€æˆªåœ–ä¿è­·ã€‚

- **å‹•æ…‹æµ®æ°´å° (Watermark)**: `useWatermark` å¯é¡¯ç¤ºã€Œä½¿ç”¨è€…/æ™‚é–“/IPã€æµ®æ°´å°ï¼Œé˜²æ­¢æˆªåœ–å¤–æ´©ã€‚
- **é˜²æˆªåœ–/éŒ„å½±**: åµæ¸¬ PrintScreen æˆ–è¦–çª—å¤±ç„¦æ™‚è‡ªå‹•æ¨¡ç³Šç•«é¢ (`security.client.ts`)ã€‚
- **é–’ç½®ä¿è­·**: é•·æ™‚é–“ç„¡æ“ä½œè‡ªå‹•é–å®šæˆ–ç™»å‡ºã€‚

### 3.3 ğŸ§© Smart UI Components (æ™ºæ…§å…ƒä»¶)

- **æ¨™æº–åŒ–å¡ç‰‡**: çµ±ä¸€é¢¨æ ¼çš„å®¹å™¨å…ƒä»¶ï¼Œå…§å»º Loading ç‹€æ…‹èˆ‡æ¨™é¡Œæ¨£å¼ã€‚

---

## 4. å»ºè­°æ“´å……åŠŸèƒ½ (Recommended Enhancements)

_ä»¥ä¸‹ç‚ºã€Œå®Œæ•´é–‹ç™¼åŒ…ã€å»ºè­°è£œå¼·çš„é …ç›®ï¼Œè®“å°ˆæ¡ˆæ›´è‡»å®Œç¾ï¼š_

### 4.1 ğŸ¨ åœ–åƒèˆ‡æ•ˆèƒ½å„ªåŒ– (Nuxt Image)

**å»ºè­°åŠ å…¥**: `@nuxt/image`

- **åŠŸèƒ½**: è‡ªå‹•è½‰æ› WebP/AVIFã€è‡ªå‹• Resizeã€Lazy Loadã€‚
- **æ•ˆç›Š**: å¤§å¹…æå‡ Core Web Vitals åˆ†æ•¸ï¼Œæ¸›å°‘é »å¯¬æˆæœ¬ã€‚

### 4.2 ğŸ” æœå°‹å¼•æ“å„ªåŒ– (Nuxt SEO)

**å»ºè­°åŠ å…¥**: `@nuxtjs/seo` (æˆ– `nuxt-seo-kit`)

- **åŠŸèƒ½**: è‡ªå‹•ç”Ÿæˆ `sitemap.xml`ã€`robots.txt`ã€Canonical URLã€Open Graph åœ–ç‰‡ç”Ÿæˆã€‚
- **æ•ˆç›Š**: è®“ç”²æ–¹å°ˆæ¡ˆä¸Šç·šå³å…·å‚™ SEO ç«¶çˆ­åŠ›ã€‚

### 4.3 ğŸ›¡ï¸ è³‡å®‰å¼·åŒ– (Nuxt Security Headers)

**å»ºè­°åŠ å…¥**: `nuxt-security`

- **åŠŸèƒ½**: è‡ªå‹•é…ç½®åš´æ ¼çš„ Security Headers (HSTS, CSP, X-Frame-Options)ã€‚
- **æ•ˆç›Š**: é€šéæ»²é€æ¸¬è©¦èˆ‡è³‡å®‰ç¨½æ ¸çš„å¿…å‚™åˆ©å™¨ã€‚

### 4.4 ğŸ‘® ç¨‹å¼ç¢¼å“è³ªå®ˆé–€å“¡ (ESLint + Husky)

**å»ºè­°åŠ å…¥**: `@nuxt/eslint`, `husky`, `lint-staged`, `commitlint`

- **åŠŸèƒ½**:
  - **Pre-commit Hook**: å¼·åˆ¶æª¢æŸ¥ç¨‹å¼ç¢¼é¢¨æ ¼ï¼Œä¸åˆè¦ç„¡æ³• commitã€‚
  - **Commit Message è¦ç¯„**: ç¢ºä¿ Git Log æ¸…æ™°å¯è®€ (å¦‚ `feat: add new module`)ã€‚
- **æ•ˆç›Š**: åœ˜éšŠå”ä½œæ™‚ï¼Œç¢ºä¿æ‰€æœ‰äººçš„ Code Style 100% ä¸€è‡´ã€‚

### 4.5 ğŸ› ï¸ é–‹ç™¼è€…é«”é©— DX (Nuxt DevTools)

**å»ºè­°å•Ÿç”¨**: `devtools: { enabled: true }`

- **åŠŸèƒ½**: è¦–è¦ºåŒ–æŸ¥çœ‹è·¯ç”±ã€ç‹€æ…‹ (Pinia)ã€API è«‹æ±‚ã€æ•ˆèƒ½ç“¶é ¸ã€‚
- **æ•ˆç›Š**: åŠ é€Ÿ Debug æ•ˆç‡ 50% ä»¥ä¸Šã€‚

---

## 5. Nuxt 3 æ®ºæ‰‹ç´šç‰¹æ€§ (Killer Features - èªªæœç”²æ–¹çš„é—œéµ)

_ç‚ºä»€éº¼éç”¨ Nuxt 3 ä¸å¯ï¼Ÿé€™è£¡æœ‰å¹¾å€‹è®“ç”²æ–¹å·¥ç¨‹å¸«ç„¡æ³•æ‹’çµ•çš„ç†ç”±ï¼š_

### 5.1 ğŸš€ ä¼ºæœå™¨å¼•æ“ (Nitro Engine)

- **Server API å…§å»º**: ä¸ç”¨å¦å¤–æ¶ Express/NestJSï¼Œç›´æ¥åœ¨ `server/api` å¯«å¾Œç«¯é‚è¼¯ã€‚
- **Middlewares**: æ”¯æ´ `server/middleware`ï¼Œå¯åšå…¨åŸŸ Logã€æ¬Šé™æª¢æŸ¥ã€‚
- **Storage Layer**: å…§å»º KV Storage (`useStorage`)ï¼Œæ”¯æ´ Redis/FS/Memoryï¼Œå¿«å– API çµæœè¶…æ–¹ä¾¿ã€‚
- **Edge Ready**: éƒ¨ç½²åˆ° Vercel Edge, Cloudflare Workers æ¯«ç„¡å£“åŠ›ï¼Œå…¨çƒåŠ é€Ÿã€‚

### 5.2 âš¡ æ··åˆæ¸²æŸ“ (Hybrid Rendering)

> **é€™é»æœ€å¼·ï¼** å¯ä»¥é‡å°ä¸åŒé é¢è¨­å®šä¸åŒçš„æ¸²æŸ“ç­–ç•¥ (`routeRules`)ã€‚

- **é¦–é  (`prerender`)**: å»ºç½®æ™‚ç”Ÿæˆéœæ…‹ HTMLï¼Œæ¥µé€Ÿè¼‰å…¥ã€‚
- **æ–°èåˆ—è¡¨ (`isr`)**: å¢é‡éœæ…‹ç”Ÿæˆ (Incremental Static Regeneration)ï¼Œä¾‹å¦‚æ¯ 60 ç§’æ›´æ–°ä¸€æ¬¡ã€‚
- **æœƒå“¡ä¸­å¿ƒ (`ssr: false`)**: ç´”å®¢æˆ¶ç«¯æ¸²æŸ“ (SPA æ¨¡å¼)ï¼Œæ¸›è¼•ä¼ºæœå™¨è² æ“”ã€‚
- **API (`swr`)**: Stale-While-Revalidateï¼Œå¿«å–å„ªå…ˆï¼ŒèƒŒæ™¯æ›´æ–°ã€‚

### 5.3 ğŸï¸ é«˜éšæ•ˆèƒ½å„ªåŒ–

- **Component Islands (`.island.vue`)**:
  - ç¨ç«‹çš„ Server Componentï¼Œ**å®Œå…¨ä¸å‚³é€ JS åˆ°å®¢æˆ¶ç«¯** (Zero JS)ã€‚
  - é©åˆï¼šå»£å‘Š Bannerã€è¤‡é›œçš„ Footerã€ç´”éœæ…‹çš„å´é‚Šæ¬„ã€‚
- **Build Cache**: æ™ºæ…§å¿«å–å»ºç½®çµæœï¼ŒCI/CD é€Ÿåº¦æå‡ 50%ã€‚
- **Lazy Hydration**: åªåœ¨å…ƒä»¶é€²å…¥è¦–çª— (Viewport) æ™‚æ‰åŸ·è¡Œ JSï¼Œé¦–å± TTI åˆ†æ•¸çˆ†è¡¨ã€‚

### 5.4 ğŸ§± å¾®å‰ç«¯æ¶æ§‹ (Nuxt Layers)

- **`extends`**: æ”¯æ´ç¹¼æ‰¿å¦ä¸€å€‹ Nuxt å°ˆæ¡ˆ (GitHub æˆ– Local)ã€‚
- **æ‡‰ç”¨å ´æ™¯**: å¯ä»¥åšä¸€å€‹ **ã€ŒBase Projectã€** åŒ…å«æ‰€æœ‰ UI åº«ã€Smart Clientã€è³‡å®‰è¨­å®šã€‚
- **å¥½è™•**: ç”²æ–¹æœªä¾†é–‹æ–°å°ˆæ¡ˆï¼Œåªè¦ `extends: ['github:my-org/base-template']`ï¼Œ**ç¬é–“å®Œæˆ 90% åŸºç¤å»ºè¨­**ï¼Œç¶­è­·åŸºåº•å°±èƒ½æ›´æ–°æ‰€æœ‰å°ˆæ¡ˆã€‚

---

## 6. Nuxt 3 å¯¦ç”¨æ–¹æ³•é€ŸæŸ¥ (Cheatsheet)

_åˆ¥å¿˜äº†é€™äº› Nuxt 3 å…§å»ºçš„ç¥å…µåˆ©å™¨ï¼Œé–‹ç™¼åŒ…ä¸­æ‡‰åŒ…å«é€™äº›ç¯„ä¾‹ï¼š_

### è³‡æ–™ç²å– (Data Fetching)

- **`useFetch`**: æœ€å¸¸ç”¨çš„è³‡æ–™ç²å–ï¼Œæ”¯æ´ SSRã€‚
- **`useLazyFetch`**: ä¸é˜»å¡è·¯ç”±å°èˆªçš„ç²å–æ–¹å¼ (é…åˆ `pending` ç‹€æ…‹)ã€‚
- **`refreshNuxtData`**: å…¨åŸŸæˆ–é‡å°ç‰¹å®š key é‡æ–°åˆ·è³‡æ–™ã€‚
- **`useAsyncData`**: æ›´åº•å±¤çš„ Data Fetchingï¼Œå¯è‡ªå®šç¾© key é˜²é‡è¤‡è«‹æ±‚ã€‚

### ä¼ºæœå™¨ç«¯å·¥å…· (Server / Nitro)

- **`useStorage`**: ä¼ºæœå™¨ç«¯ KV å„²å­˜ (å¿«å–å¥½å¹«æ‰‹)ã€‚
- **`useRuntimeConfig`**: å®‰å…¨åœ°è®€å–ç’°å¢ƒè®Šæ•¸ (Server ç«¯çš„ API Key ä¸æœƒå¤–æ´©)ã€‚
- **`sendRedirect`**: Server ç«¯é‡å®šå‘ã€‚
- **`setResponseStatus`**: è¨­å®š HTTP ç‹€æ…‹ç¢¼ã€‚

### ç‹€æ…‹èˆ‡è·¨çµ„ä»¶ (State & Components)

- **`useState`**: ç°¡å–®çš„ SSR å‹å–„å…¨åŸŸç‹€æ…‹ (æ¯” Pinia è¼•é‡)ã€‚
- **`useCookie`**: è®€å¯« Cookie (æ”¯æ´ SSRï¼Œè‡ªå‹•åºåˆ—åŒ–)ã€‚
- **`<ClientOnly>`**: åŒ…è£¹åªåœ¨ç€è¦½å™¨ç«¯æ¸²æŸ“çš„å…ƒä»¶ (å¦‚åœ–è¡¨ã€åœ°åœ–)ã€‚
- **`<Teleport>`**: å°‡ Modal/Dialog å‚³é€åˆ° Body å±¤ç´šï¼Œé¿å… z-index å•é¡Œã€‚

### SEO èˆ‡ Meta

- **`useHead`**: å‹•æ…‹è¨­å®š title, meta tagsã€‚
- **`useSeoMeta`**: æ›´èªæ„åŒ–çš„è¨­å®šæ–¹å¼ (`title`, `description`, `ogImage`)ã€‚

### è·¯ç”±èˆ‡å°èˆª

- **`navigateTo`**: ç¨‹å¼åŒ–è·³è½‰ (æ”¯æ´ awaitï¼Œç¢ºä¿è½‰å ´å¹³æ»‘)ã€‚
- **`definePageMeta`**: è¨­å®šé é¢ middlewareã€layoutã€åˆ¥åã€‚
- **`useRoute` / `useRouter`**: ç²å–è·¯ç”±åƒæ•¸èˆ‡æ§åˆ¶å°èˆªã€‚

### å·¥å…·é¡

- **`useError` / `createError` / `clearError`**: çµ±ä¸€éŒ¯èª¤è™•ç†æµç¨‹ã€‚
- **`useAppConfig`**: è®€å–åŸ·è¡Œæ™‚é…ç½® (Reactive, Public)ã€‚
- **`onNuxtReady`**: ç•¶ Nuxt å®Œæˆæ›è¼‰æ™‚è§¸ç™¼ (é©åˆåˆå§‹åŒ– analytics)ã€‚

---

## 7. äº¤ä»˜ç‰©æ¸…å–® (Deliverables)

1.  **Source Code**: å®Œæ•´ Git Repository (åŒ…å« `.git` æ­·å²)ã€‚
2.  **README.md**: å°ˆæ¡ˆå•Ÿå‹•ã€ç’°å¢ƒå»ºç½®èªªæ˜ã€‚
3.  **API_GUIDE.md**: Smart Client ä½¿ç”¨æ‰‹å†Š (å·²å®Œæˆ)ã€‚
4.  **UI_GUIDE.md**: å…ƒä»¶ä½¿ç”¨æ‰‹å†Š (å»ºè­°æ–°å¢)ã€‚
5.  **Storybook**: è¦–è¦ºåŒ–å…ƒä»¶åº«æ–‡ä»¶ (å·²é…ç½® script)ã€‚
